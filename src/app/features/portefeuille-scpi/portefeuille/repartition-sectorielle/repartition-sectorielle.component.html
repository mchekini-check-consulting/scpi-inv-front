 <div *ngIf="loading" class="flex-1 flex items-center justify-center">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 !border-secondary"></div>
  </div>


  <div *ngIf="!loading && distribution && distribution.sectoral.length > 0" class="flex flex-col h-full">
    <div class="chart-container flex-1 min-h-0">
      <p-chart
        type="doughnut"
        [data]="sectoralChartData"
        [options]="chartOptions"
        class="w-full h-full"
      ></p-chart>
    </div>

 
    <div class="stats-container mt-4 flex-shrink-0">
      <div class="stats-list space-y-3">
      <div 
        class="flex items-center justify-between"
        *ngFor="let sector of distribution.sectoral; let i = index">
        <div class="flex items-center gap-2">
          <div 
            class="w-3 h-3 rounded-full flex-shrink-0" 
            [style.background-color]="sectoralChartData?.datasets[0]?.backgroundColor[i]">
          </div>
          <span class="text-sm text-gray-700">{{ sector.label }}</span>
        </div>
        <span class="text-base font-semibold text-gray-900">
          {{ calculateSectorAmount(sector.percentage) | number:'1.0-0' }} €
        </span>
      </div>
    </div>
    </div>
  </div>

  <div *ngIf="!loading && (!distribution || distribution.sectoral.length === 0)" 
       class="flex-1 flex flex-col items-center justify-center text-gray-400">
    <i class="pi pi-chart-pie text-6xl mb-4"></i>
    <p>Aucune donnée à afficher</p>
  </div>